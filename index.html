<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ø¬Ù‡Ø§Ø² Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¹Ù…Ø±Ø§Ù†ÙŠ</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="assets/js/auth.js"></script>
<style>
Â  header {
Â  display: flex;
Â  flex-direction: row;
Â  justify-content: space-between;
Â  align-items: center;
Â  direction: rtl;
Â  padding: 15px 25px;
Â  background: linear-gradient(90deg, #26D0CE, #1A2980);
Â  color: white;
Â  position: fixed;
Â  top: 0;
Â  left: 0;
Â  right: 0;
Â  height: 60px; /* ØªØ­Ø¯ÙŠØ¯ Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ù„Ù„Ù‡ÙŠØ¯Ø± */
Â  z-index: 1001;
}

.header-right {
Â  display: flex;
Â  align-items: center;
Â  gap: 10px;
}
.header-left {
Â  display: flex;
Â  align-items: center;
}
.logo-text {
Â  font-weight: bold;
Â  font-size: 18px;
}

.user-dashboard {
Â  display: none; /* ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
Â  color: white;
Â  background: #26d0ce;
Â  padding: 8px 15px;
Â  border-radius: 6px;
Â  text-decoration: none;
Â  font-weight: bold;
Â  transition: 0.3s;
Â  margin-right: auto;
}

.user-dashboard:hover {
Â  background: #1a2980;
}

Â  .logo-bg {
Â  background: #ffffff;
Â  padding: 8px;
Â  border-radius: 50%;
Â  height: 45px;
Â  width: 45px;
Â  object-fit: contain;
Â  box-shadow: 0 0 6px rgba(0,0,0,0.2);
}

Â  .header-logo {
Â  height: 45px;
Â  margin-left: 15px;
}

.content {
Â  position: absolute;
Â  top: 50%;
Â  left: 50%;
Â  transform: translate(-50%, -50%);
Â  text-align: center;
Â  background: rgba(0, 0, 0, 0.4); /* Ø®Ù„ÙÙŠØ© Ø´Ø¨Ù‡ Ø´ÙØ§ÙØ© */
Â  color: #fff;
Â  padding: 20px 40px;
Â  border-radius: 12px;
Â  max-width: 90%;
Â  z-index: 999; /* Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù‡ ÙÙˆÙ‚ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± */
}

.login-btn {
Â  display: inline-block;
Â  background: #007bff;
Â  color: #fff;
Â  padding: 12px 25px;
Â  border-radius: 8px;
Â  text-decoration: none;
Â  font-weight: bold;
Â  margin-top: 15px;
Â  transition: 0.3s;
}

.login-btn:hover {
Â  background: #0056b3;
Â  transform: scale(1.05);
}

/* Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ù…Ù…ØªØ¯ Ù…Ù† Ø£Ø³ÙÙ„ Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ­ØªÙ‰ Ù‚Ø¨Ù„ Ø§Ù„ÙÙˆØªØ± */
.hero-slider {
Â  position: relative;
Â  width: 100%;
Â  /* Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ - Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù‡ÙŠØ¯Ø± - Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„ÙÙˆØªØ± */
Â  height: calc(100vh - 60px - 40px);
Â  overflow: hidden;
Â  margin-top: 60px; /* Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± Ø£Ø³ÙÙ„ Ø§Ù„Ù‡ÙŠØ¯Ø± */
}

/* Ø§Ù„ØµÙˆØ± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± */
.hero-slider .slides img {
Â  width: 100%;
Â  height: 100%;
Â  object-fit: cover; /* Ù„Ù…Ù„Ø¡ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
Â  background: #000;
Â  position: absolute;
Â  top:0; left:0;
Â  opacity: 0;
Â  transition: opacity 0.6s ease-in-out;
}

.hero-slider .slides img.active {
Â  opacity: 1;
}

/* Ù…ØªØ¬Ø§ÙˆØ¨ */
@media (max-width:768px){
Â  .logo-text { font-size: 16px; }
Â  .header-logo { height: 40px; width: 40px; }
Â  .user-dashboard { padding: 6px 12px; font-size: 14px; }
}

@media (max-width:480px){
Â  header { padding: 10px 15px; }
Â  .logo-text { font-size: 14px; }
Â  .header-logo { height: 35px; width: 35px; }
Â  .user-dashboard { padding: 5px 10px; font-size: 13px; }
}
/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± */
.hero-slider button.prev-slide,
.hero-slider button.next-slide {
Â  position: absolute;
Â  top: 50%;
Â  transform: translateY(-50%);
Â  background: rgba(0,0,0,0.5);
Â  color: #fff;
Â  border: none;
Â  font-size: 2.5rem;
Â  padding: 0 12px;
Â  cursor: pointer;
Â  border-radius: 50%;
Â  z-index: 10;
}
.hero-slider button.prev-slide { left: 10px; }
.hero-slider button.next-slide { right: 10px; }

.hero-slider button:hover { background: rgba(0,0,0,0.8); }

/* Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ†Ù‚Ù„ */
.slide-dots {
Â  position: absolute;
Â  bottom: 10px;
Â  left: 50%;
Â  transform: translateX(-50%);
Â  display: flex;
Â  gap: 8px;
Â  z-index: 100;
}
.slide-dots span {
Â  width: 12px;
Â  height: 12px;
Â  background: rgba(255,255,255,0.6);
Â  border-radius: 50%;
Â  cursor: pointer;
Â  transition: background 0.3s;
}
.slide-dots span.active { background: #ffcc00; }
Â Â 
.user-dashboard {
Â  display: none;
Â  margin-left: auto;
Â  color: white;
Â  background: #26d0ce;
Â  padding: 8px 15px;
Â  border-radius: 6px;
Â  text-decoration: none;
Â  font-weight: bold;
Â  transition: 0.3s;
}

.user-dashboard:hover {
Â  background: #1a2980;
Â  color: #fff;
}


/* Footer Ø«Ø§Ø¨Øª */
footer {
Â  position: fixed;
Â  bottom: 0;
Â  left: 0;
Â  right: 0;
Â  background: linear-gradient(90deg, #26D0CE, #1A2980);
Â  color: #fff;
Â  display: flex;
Â  flex-direction: column;
Â  align-items: center;
Â  justify-content: center;
Â  text-align: center;
Â  font-weight: 700;
Â  padding: 6px 0;
Â  height: 40px; /* ØªØ­Ø¯ÙŠØ¯ Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ù„Ù„ÙÙˆØªØ± */
Â  z-index: 1000;
}
footer .line2 { font-weight: 600; font-size: 13px; margin-top: 2px; }
</style>
</head>
<body>

<header>
Â  Â  <div class="header-right">
Â  Â  <img src="assets/images/logo.png" class="header-logo logo-bg" alt="Logo">
Â  Â  <div class="logo-text">Ø¬Ù‡Ø§Ø² Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¹Ù…Ø±Ø§Ù†ÙŠ</div>
Â  </div>

Â  Â  <div class="header-left">
Â  <a href="#" class="user-dashboard" id="userDashboardBtn">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</a>
</div>

</header>

<div class="hero-slider">
Â  <div class="slides">
Â  Â  <img src="assets/images/img1.jpg" class="slide active" alt="ØµÙˆØ±Ø© Ø³Ù„Ø§ÙŠØ¯Ø±">
Â  Â  <img src="assets/images/img2.jpg" class="slide" alt="ØµÙˆØ±Ø© Ø³Ù„Ø§ÙŠØ¯Ø±">
Â  Â  <img src="assets/images/img3.jpg" class="slide" alt="ØµÙˆØ±Ø© Ø³Ù„Ø§ÙŠØ¯Ø±">
Â  Â  <img src="assets/images/img4.jpg" class="slide" alt="ØµÙˆØ±Ø© Ø³Ù„Ø§ÙŠØ¯Ø±">
Â  Â  <img src="assets/images/img5.jpg" class="slide" alt="ØµÙˆØ±Ø© Ø³Ù„Ø§ÙŠØ¯Ø±">
Â  Â  <img src="assets/images/img6.jpg" class="slide" alt="ØµÙˆØ±Ø© Ø³Ù„Ø§ÙŠØ¯Ø±">
Â  </div>

Â  Â  <button class="prev-slide" aria-label="Ø§Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©">&#10094;</button>
Â  <button class="next-slide" aria-label="Ø§Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©">&#10095;</button>

Â  Â  <div class="slide-dots"></div>
</div>


<div class="content">
Â  <h2 id="welcome-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ø¬Ù‡Ø§Ø² Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¹Ù…Ø±Ø§Ù†ÙŠ</h2>
Â  <p>Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© ÙˆÙ…ØªØ§Ø¨Ø¹Ø© ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ©.</p>
Â <a class="login-btn" id="loginBtn" href="login.html">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>

</div>
<footer>
Â  Ø¥Ø¹Ø¯Ø§Ø¯ Ø¬Ù‡Ø§Ø² Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø±Ø§ÙÙ‚ - Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯
Â  <span class="line2">Designed By Eng. Ahmed Labib </span>
</footer>
<script>
// ----------------------------------------------------------------------
// Ù…Ù†Ø·Ù‚ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±
// ----------------------------------------------------------------------
let currentSlide = 0;
const slides = document.querySelectorAll(".hero-slider .slide");
const dotsContainer = document.querySelector(".slide-dots");

// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ù‚Ø§Ø·
slides.forEach((_, idx) => {
Â  const dot = document.createElement("span");
Â  if(idx === 0) dot.classList.add("active");
Â  dot.addEventListener("click", () => goToSlide(idx));
Â  dotsContainer.appendChild(dot);
});
const dots = document.querySelectorAll(".slide-dots span");

// Ø¹Ø±Ø¶ Ø´Ø±ÙŠØ­Ø© Ù…Ø¹ÙŠÙ†Ø©
function goToSlide(index){
Â  slides[currentSlide].classList.remove("active");
Â  dots[currentSlide].classList.remove("active");
Â  currentSlide = index;
Â  slides[currentSlide].classList.add("active");
Â  dots[currentSlide].classList.remove("active");
  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¶Ø§ÙØ© active Ø¥Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
  if(dots[currentSlide]) dots[currentSlide].classList.add("active");
}

// Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
document.querySelector(".prev-slide").addEventListener("click", () => {
Â  goToSlide((currentSlide - 1 + slides.length) % slides.length);
});
document.querySelector(".next-slide").addEventListener("click", () => {
Â  goToSlide((currentSlide + 1) % slides.length);
});

// Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
setInterval(() => {
Â  goToSlide((currentSlide + 1) % slides.length);
}, 5000);

// Swipe Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
let startX = 0;
const slider = document.querySelector(".hero-slider");
slider.addEventListener("touchstart", e => { startX = e.touches[0].clientX; });
slider.addEventListener("touchend", e => {
Â  const endX = e.changedTouches[0].clientX;
Â  if(endX - startX > 50) goToSlide((currentSlide - 1 + slides.length) % slides.length); // Ø³Ø­Ø¨ ÙŠÙ…ÙŠÙ†
Â  if(startX - endX > 50) goToSlide((currentSlide + 1) % slides.length); // Ø³Ø­Ø¨ ÙŠØ³Ø§Ø±
});


// ----------------------------------------------------------------------
// ğŸ”‘ Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¬Ù„Ø³Ø© ÙˆØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ù„Ù…Ø¹Ø¯Ù„)
// ----------------------------------------------------------------------
document.addEventListener("DOMContentLoaded", async function () {
    const loginBtn = document.getElementById("loginBtn");
    const dashboardBtn = document.getElementById("userDashboardBtn");
    const welcomeTitle = document.getElementById('welcome-title');

    // ğŸ”‘ Ù†Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ù„Ø© checkUserSession() Ù„Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ Ù…Ù† Ø§Ù„Ø¬Ù„Ø³Ø©
    const userProfile = await checkUserSession();

    if (userProfile) {
        // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if (loginBtn) loginBtn.style.display = "none"; // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        
        // ØªØ­Ø¯ÙŠØ« Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
        if(welcomeTitle){
            // Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªÙˆÙØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
            welcomeTitle.textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒØŒ ${userProfile.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}!`; 
        }
        
        if (dashboardBtn) {
            dashboardBtn.style.display = "inline-block"; // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©

            // ØªØ­ÙˆÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±
            switch (userProfile.role) {
                case "admin":
                    dashboardBtn.href = "dashboard.html";
                    break;
                case "user":
                    dashboardBtn.href = "user.html";
                    break;
                case "guest":
                    dashboardBtn.href = "guest.html";
                    break;
                default:
                    // Ø¯ÙˆØ± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØŒ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø²Ø±
                    dashboardBtn.style.display = "none";
            }
        }

    } else {
        // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if (loginBtn) loginBtn.style.display = "inline-block";
        if (dashboardBtn) dashboardBtn.style.display = "none";
        
        // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø§Ù„Ø£ØµÙ„ÙŠØ©
        if(welcomeTitle){
            welcomeTitle.textContent = "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ø¬Ù‡Ø§Ø² Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¹Ù…Ø±Ø§Ù†ÙŠ";
        }
    }
});
</script>

</body>
</html>
